import{_ as h}from"./hcYs1tGp.js";import{_ as P,p as $,r as f,o as r,c as i,a as t,G as u,q as l,b as w,x as a,y as m,a2 as B,z as c,F as b,s as x,t as y,w as I,v as R}from"./DeoSQKGc.js";import{I as A}from"./BVrv9uHQ.js";import{a as D}from"./BkCT7U-L.js";const E={class:"p-5 px-md-0 py-md-30"},L={class:"mb-10"},M={class:"d-flex align-items-center py-4 gap-2"},N={class:"d-flex flex-column align-items-center gap-1 text-neutral-0"},F={class:"mb-4"},q={class:"mb-4 fs-8 fs-md-7"},G={class:"mb-4 fs-8 fs-md-7"},T={class:"mb-10 fs-8 fs-md-7"},Z={class:"mb-4 fs-8 fs-md-7"},j={class:"mb-4 fs-8 fs-md-7"},H={class:"mb-4 fs-8 fs-md-7"},J={class:"d-flex gap-2"},K=["value"],O=["value"],Q=["value"],W={class:"mb-4 fs-8 fs-md-7"},X={class:"d-flex gap-2 mb-2"},Y=["value"],ee={class:"mb-0 fs-8 fs-md-7"},te={__name:"AccountSignup",setup(se){const g=D(),{setEmail:k}=g,V=$(),n=f(!1),_=f([{detail:"100臺北市中正區",zipcode:100,city:"臺北市",county:"中正區"},{detail:"103臺北市大同區",zipcode:103,city:"臺北市",county:"大同區"},{detail:"104臺北市中山區",zipcode:104,city:"臺北市",county:"中山區"},{detail:"105臺北市松山區",zipcode:105,city:"臺北市",county:"松山區"},{detail:"106臺北市大安區",zipcode:106,city:"臺北市",county:"大安區"}]),p=f(""),d=f({year:"",month:"",day:""}),o=f({name:"",email:"",password:"",phone:"",birthday:"",address:{zipcode:802,detail:""}}),z=()=>{p.value!==o.value.password?(p.value="",o.value.password="",alert("輸入的密碼不相同")):o.value.email===""||o.value.password===""?alert("請輸入信箱、密碼"):n.value=!0},U=()=>{o.value.birthday=`${d.value.year}/${d.value.month}/${d.value.day}`,console.log(o.value),C()},C=async()=>{const v=R();try{(await $fetch("/user/signup",{baseURL:v.public.apiBase,method:"post",body:o.value})).status===!0&&(k(o.value.email),V.push("/account"))}catch(e){e.data?(console.log("API 回應錯誤內容:",e.data),alert(e.data.message||"註冊失敗，請檢查您的輸入！")):(console.log(e),alert("註冊失敗，伺服器未返回詳細資訊！"))}};return(v,e)=>{const S=h;return r(),i("div",E,[t("div",L,[e[13]||(e[13]=t("p",{class:"mb-2 text-primary-100 fs-8 fs-md-7 fw-bold"}," 享樂酒店，誠摯歡迎 ",-1)),e[14]||(e[14]=t("h1",{class:"mb-4 text-neutral-0 fw-bold"}," 立即註冊 ",-1)),t("div",M,[t("div",N,[t("span",{class:u([{"d-none":l(n)},"step p-2 bg-primary-100 rounded-circle"])},"1",2),w(l(A),{class:u([{"d-none":!l(n)},"p-2 fs-3 bg-primary-100 rounded-circle"]),icon:"material-symbols:check"},null,8,["class"]),e[10]||(e[10]=t("p",{class:"mb-0 fs-8 fs-md-7 fw-bold"}," 輸入信箱及密碼 ",-1))]),e[12]||(e[12]=t("hr",{class:"flex-grow-1 my-0 border border-neutral-60 opacity-100"},null,-1)),t("div",{class:u([{"text-neutral-0":l(n),"text-neutral-60":!l(n)},"d-flex flex-column align-items-center gap-1"])},[t("span",{class:u([{"bg-primary-100":l(n),"bg-transparent border border-neutral-60":!l(n)},"step p-2 rounded-circle"])},"2",2),e[11]||(e[11]=t("p",{class:"mb-0 fs-8 fs-md-7 fw-bold"}," 填寫基本資料 ",-1))],2)])]),t("div",F,[t("form",{class:u([{"d-none":l(n)},"mb-4"])},[t("div",q,[e[15]||(e[15]=t("label",{class:"mb-2 text-neutral-0 fw-bold",for:"email"}," 電子信箱 ",-1)),a(t("input",{id:"email",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40",placeholder:"hello@exsample.com",type:"email","onUpdate:modelValue":e[0]||(e[0]=s=>l(o).email=s)},null,512),[[m,l(o).email]])]),t("div",G,[e[16]||(e[16]=t("label",{class:"mb-2 text-neutral-0 fw-bold",for:"password"}," 密碼 ",-1)),a(t("input",{id:"password",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40",placeholder:"請輸入密碼",type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>l(o).password=s)},null,512),[[m,l(o).password]])]),t("div",T,[e[17]||(e[17]=t("label",{class:"mb-2 text-neutral-0 fw-bold",for:"confirmPassword"}," 確認密碼 ",-1)),a(t("input",{id:"confirmPassword",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40",placeholder:"請再輸入一次密碼",type:"password","onUpdate:modelValue":e[2]||(e[2]=s=>B(p)?p.value=s:null)},null,512),[[m,l(p)]])]),t("button",{class:"btn btn-neutral-40 w-100 py-4 text-neutral-60 fw-bold",type:"button",onClick:z}," 下一步 ")],2),t("form",{class:u([{"d-none":!l(n)},"mb-4"])},[t("div",Z,[e[18]||(e[18]=t("label",{class:"mb-2 text-neutral-0 fw-bold",for:"name"}," 姓名 ",-1)),a(t("input",{id:"name",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40 rounded-3",placeholder:"請輸入姓名",type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>l(o).name=s)},null,512),[[m,l(o).name]])]),t("div",j,[e[19]||(e[19]=t("label",{class:"mb-2 text-neutral-0 fw-bold",for:"phone"}," 手機號碼 ",-1)),a(t("input",{id:"phone",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40 rounded-3",placeholder:"請輸入手機號碼",type:"tel","onUpdate:modelValue":e[4]||(e[4]=s=>l(o).phone=s)},null,512),[[m,l(o).phone]])]),t("div",H,[e[20]||(e[20]=t("label",{class:"mb-2 text-neutral-0 fw-bold",for:"birth"}," 生日 ",-1)),t("div",J,[a(t("select",{id:"birth",class:"form-select p-4 text-neutral-80 fw-medium rounded-3","onUpdate:modelValue":e[5]||(e[5]=s=>l(d).year=s)},[(r(),i(b,null,x(65,s=>t("option",{key:s,value:s+1958},y(s+1958)+" 年 ",9,K)),64))],512),[[c,l(d).year]]),a(t("select",{class:"form-select p-4 text-neutral-80 fw-medium rounded-3","onUpdate:modelValue":e[6]||(e[6]=s=>l(d).month=s)},[(r(),i(b,null,x(12,s=>t("option",{key:s,value:s},y(s)+" 月 ",9,O)),64))],512),[[c,l(d).month]]),a(t("select",{class:"form-select p-4 text-neutral-80 fw-medium rounded-3","onUpdate:modelValue":e[7]||(e[7]=s=>l(d).day=s)},[(r(),i(b,null,x(30,s=>t("option",{key:s,value:s},y(s)+" 日 ",9,Q)),64))],512),[[c,l(d).day]])])]),t("div",W,[e[21]||(e[21]=t("label",{class:"form-label text-neutral-0 fw-bold",for:"address"}," 地址 ",-1)),t("div",null,[t("div",X,[a(t("select",{class:"form-select p-4 text-neutral-80 fw-medium rounded-3","onUpdate:modelValue":e[8]||(e[8]=s=>l(o).address.zipcode=s)},[(r(!0),i(b,null,x(l(_),s=>(r(),i("option",{key:s.zipcode,value:s.zipcode},y(s.detail),9,Y))),128))],512),[[c,l(o).address.zipcode]])]),a(t("input",{id:"address",type:"text",class:"form-control p-4 rounded-3",placeholder:"請輸入詳細地址","onUpdate:modelValue":e[9]||(e[9]=s=>l(o).address.detail=s)},null,512),[[m,l(o).address.detail]])])]),e[22]||(e[22]=t("div",{class:"form-check d-flex align-items-end gap-2 mb-10 text-neutral-0"},[t("input",{id:"agreementCheck",class:"form-check-input",type:"checkbox",value:""}),t("label",{class:"form-check-label fw-bold",for:"agreementCheck"}," 我已閱讀並同意本網站個資使用規範 ")],-1)),t("button",{class:"btn btn-primary-100 w-100 py-4 text-neutral-0 fw-bold",type:"button",onClick:U}," 完成註冊 ")],2)]),t("p",ee,[e[24]||(e[24]=t("span",{class:"me-2 text-neutral-0 fw-medium"},"已經有會員了嗎？",-1)),w(S,{to:{name:"account"},class:"text-primary-100 fw-bold text-decoration-underline bg-transparent border-0"},{default:I(()=>e[23]||(e[23]=[t("span",null,"立即登入",-1)])),_:1})])])}}},de=P(te,[["__scopeId","data-v-e454b6e7"]]);export{de as default};

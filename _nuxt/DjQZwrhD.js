import{_ as f}from"./hcYs1tGp.js";import{_ as b,$ as x,p as w,r as v,o as y,c as _,a as e,x as l,y as n,q as o,D as g,b as k,w as I,v as M}from"./DeoSQKGc.js";import{a as N}from"./BkCT7U-L.js";import{u as C}from"./BgMDfBSU.js";import"./IShi1APO.js";const Q={class:"px-5 px-md-0"},T={class:"mb-10"},V={class:"mb-4 fs-8 fs-md-7"},h={class:"mb-4 fs-8 fs-md-7"},z={class:"mb-0 fs-8 fs-md-7"},D={__name:"AccountLogin",setup(A){const d=N(),{email:i}=x(d),m=w(),u=C("auth",{path:"/",maxAge:6e4}),a=v({email:i.value,password:""}),c=async()=>{try{const s=M(),t=await $fetch("/user/login",{baseURL:s.public.apiBase,method:"post",body:a.value,Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzYyM2I4MTcwYWM5MjQ0NGY2MmQwNzMiLCJpYXQiOjE3MzQ2OTUyOTQsImV4cCI6MTczNTMwMDA5NH0.qmJce4NwfGcmDGzK28taat9sDFWjHDTO3QEEHsXS8AQ"});t.status===!0&&(alert("登入成功！"),console.log("res",t),u.value=t.token,m.push("/user"))}catch(s){s.data?(console.log("API 回應錯誤內容:",s.data),alert(s.data.message||"登入失敗，請檢查您的輸入！")):alert("登入失敗，伺服器未返回詳細資訊！")}};return(s,t)=>{const p=f;return y(),_("div",Q,[t[7]||(t[7]=e("div",{class:"mb-10"},[e("p",{class:"mb-2 text-primary-100 fs-8 fs-md-7 fw-bold"}," 享樂酒店，誠摯歡迎 "),e("h1",{class:"text-neutral-0 fw-bold"}," 立即開始旅程 ")],-1)),e("form",T,[e("div",V,[t[2]||(t[2]=e("label",{class:"mb-2 text-neutral-0 fw-bold",for:"email"}," 電子信箱 ",-1)),l(e("input",{id:"email",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40","onUpdate:modelValue":t[0]||(t[0]=r=>o(a).email=r),placeholder:"請輸入信箱",type:"email"},null,512),[[n,o(a).email]])]),e("div",h,[t[3]||(t[3]=e("label",{class:"mb-2 text-neutral-0 fw-bold",for:"password"}," 密碼 ",-1)),l(e("input",{id:"password",class:"form-control p-4 text-neutral-100 fw-medium border-neutral-40","onUpdate:modelValue":t[1]||(t[1]=r=>o(a).password=r),placeholder:"請輸入密碼",type:"password"},null,512),[[n,o(a).password]])]),t[4]||(t[4]=g('<div class="d-flex justify-content-between align-items-center mb-10 fs-8 fs-md-7" data-v-e12df513><div class="form-check d-flex align-items-end gap-2 text-neutral-0" data-v-e12df513><input id="remember" class="form-check-input" type="checkbox" value="" data-v-e12df513><label class="form-check-label fw-bold" for="remember" data-v-e12df513> 記住帳號 </label></div><button class="text-primary-100 fw-bold text-decoration-underline bg-transparent border-0" type="button" data-v-e12df513> 忘記密碼？ </button></div>',1)),e("button",{class:"btn btn-primary-100 w-100 py-4 text-neutral-0 fw-bold",type:"button",onClick:c}," 會員登入 ")]),e("p",z,[t[6]||(t[6]=e("span",{class:"me-2 text-neutral-0 fw-medium"},"沒有會員嗎？",-1)),k(p,{to:{name:"account-signup"},class:"text-primary-100 fw-bold text-decoration-underline bg-transparent border-0"},{default:I(()=>t[5]||(t[5]=[e("span",null,"前往註冊",-1)])),_:1})])])}}},U=b(D,[["__scopeId","data-v-e12df513"]]);export{U as default};
